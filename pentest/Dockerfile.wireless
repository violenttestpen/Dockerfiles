FROM debian:jessie

# Add Kali repositories
RUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys ED444FF07D8D0BF6
RUN echo deb http://kali.cs.nctu.edu.tw/kali kali-rolling main contrib non-free > /etc/apt/sources.list \
    && echo deb-src http://kali.cs.nctu.edu.tw/kali kali-rolling main contrib non-free >> /etc/apt/sources.list \
    && apt-get update

# Use a more reliable mirror
# RUN sed -i 's/http.kali.org/kali.cs.nctu.edu.tw/g' /etc/apt/sources.list \
#     && apt-get update

# Install common tools
RUN apt-get install -y \
    net-tools \
    man-db \
    vim less \
    ca-certificates git curl \
    zip unzip \
    openssh-client

# Install common runtime languages
RUN apt-get install -y \
    python python-pip \
    python3 python3-pip

# Install common WiFi tools
RUN DEBIAN_FRONTEND=noninteractive apt-get install -y \
    macchanger

# Install WiFi security tools
RUN DEBIAN_FRONTEND=noninteractive apt-get install -y \
    kmod \
    pciutils \
    aircrack-ng \
    reaver \
    cowpatty \
    wifite \
    pyrit \
    bully

WORKDIR /root
